
# 모니터링 vs 옵저버빌리티

@Changmin · March 11, 2025 · 10 min read

## TL;DR
- **모니터링**: "문제가 있음"을 감지 
- **옵저버빌리티**: "왜 문제인지"를 분석 
- [참고 블로그](https://eeeasycode.github.io/msa-01/)   
---

## 모니터링과 옵저버빌리티의 차이점

모니터링과 옵저버빌리티는 시스템을 관리하는 데 필수적이지만, 목적과 접근 방식이 다릅니다. 아래에서 주요 차이점을 세부적으로 살펴보고, 실무 예시를 추가했어요.

과거에 작성했던 제 블로그를 기반으로 다시 복습하는 느낌의 아티클입니다.

### 1. 목적
- **모니터링**: 시스템에서 "무엇이" 잘못됐는지 실시간으로 알려줍니다.
  - 초점은 상태 감지와 즉각적인 알림
  - **예시**: 웹사이트에서 "페이지 로드 시간이 3초를 넘었다"는 경고를 받음. 운영자는 문제가 있다는 사실만 알게 됨
- **옵저버빌리티**: "왜" 문제가 발생했는지 근본 원인을 파악합니다.  
  - 초점은 데이터 분석과 문제 해결
  - **예시**: "페이지 로드 시간이 느려진 이유가 데이터베이스 쿼리가 느려졌기 때문"임을 확인. 원인을 알았으니 쿼리 최적화로 해결 가능

### 2. 접근 방식
- **모니터링**: 사전에 정의된 임계치나 규칙으로 예상 가능한 문제를 감지
  - 단순하고 반응적인(reactive) 방식
  - **예시**: "서버 메모리 사용량이 90% 이상이면 Slack에 알림." 이건 미리 설정한 조건에만 반응하며, 왜 그런지는 알려주지 않음
- **옵저버빌리티**: 데이터를 종합해 예상치 못한 문제를 탐구
  - 탐구적(proactive)이고 분석 중심
  - **예시**: "메모리 사용량 증가 → 트레이싱으로 특정 API 호출이 메모리 누수를 일으켰음을 발견." 문제의 흐름과 원인을 추적

### 3. 구성 요소
- **모니터링**:
  - **로그**: 이벤트 기록 (예: "2025-03-11 10:00 에러 발생")
  - **메트릭**: 실시간 수치 (예: CPU 85%, 응답 시간 500ms)
  - **알림**: 임계치 초과 시 경고 (예: "디스크 공간 부족")
  - **예시**: Prometheus로 "API 에러율 5% 초과"를 감지해 Grafana 대시보드에 표시하고 팀에 알림
- **옵저버빌리티**:
  - **분산 트레이싱**: 요청 흐름 추적 (예: Jaeger로 요청이 서비스 A → B → C를 거치는 과정 확인)
  - **로그 분석**: 맥락 파악 (예: "에러 시점에 특정 사용자 요청이 많았다")
  - **메트릭 상관관계**: 데이터 간 관계 분석 (예: "CPU 증가와 네트워크 지연이 연관됨")
  - **예시**: Zipkin으로 "결제 요청이 느린 이유가 외부 결제 API 응답 지연"임을 확인

### 4. 데이터 활용
- **모니터링**: 로그와 메트릭을 단순히 상태 점검과 이상 탐지에 사용
  - **예시**: "최근 10분간 404 에러가 20번 발생 → 알림." 어디서 문제가 생겼는지 알지만, 왜인지는 모름 -> 찾기위해선 누군가의 수동적인 노력이 필요함
  - 활용: 실시간 대시보드나 경고 시스템 구축
- **옵저버빌리티**: 로그와 메트릭을 원인 분석과 상호작용 탐색에 활용  
  - **예시**: "404 에러 → 트레이싱으로 사용자 인증 서비스가 다운된 것을 확인 → 로그로 다운 시점의 비정상 요청 발견."  
  - 활용: 복잡한 시스템의 흐름을 시각화하고 문제를 추적

### 5. 적용 범위
- **모니터링**: 주로 단일 시스템이나 명확한 문제에 유용  
  - **예시**: "서버 한 대가 다운됨" 같은 간단한 상황 감지  
- **옵저버빌리티**: 분산 시스템(예: MSA)에서 복잡한 문제 해결 가능  
  - **예시**: "주문 시스템에서 결제 모듈 간 통신 오류로 장바구니가 비워지지 않음" 같은 다층적 문제 분석

---

## 시나리오 - 사이트 장애
상황: 결제 페이지 로드가 느려짐ㄹ

- **모니터링**:
  - 알림: "결제 API 응답 시간이 4초 초과."
  - 확인: 문제는 알았지만, 어디서 발생했는지 모름
  - 대응: 서버 재시작 같은 임시 조치
- **옵저버빌리티**:
  - 분석: "트레이싱 → 결제 API가 외부 은행 API 호출에서 지연. 로그 → 은행 API가 타임아웃 발생."
  - 대응: 은행 API 호출에 타임아웃 설정 추가 및 캐싱 도입으로 근본 해결

---

## 차이의 핵심
- **모니터링**은 "문제 알림"에 강하고, 빠른 대응에 적합
- **옵저버빌리티**는 "문제 이해"에 강하고, 복잡한 시스템 개선에 유리  
- 둘 다 로그와 메트릭을 쓰지만, 모니터링은 표면을, 옵저버빌리티는 깊이를 보는 느낌이랄까요?

---

## 끝으로
모니터링으로 문제를 감지하고, 옵저버빌리티로 원인을 파악하면 시스템 운영이 한결 수월해집니다. 물론, 각각 도입을 하기까지 많은 노력이 필요하겠지만 장기적으로 봤을 때, 이러한 시스템을 구축해놓는다면 서비스의 안정성이 많이 올라가지 않을까 싶네요!